<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
    <h2>Listagem de usu√°rios</h2>
    <p *ngIf="errorMessage"><b>Msg erro:</b>&nbsp; <span style="color:red;">{{errorMessage}}</span></p>
    <p>&nbsp;</p>
    <p><b>Perfis existentes:</b>&nbsp; </p>
    <ul>
        <li *ngFor="let perfil of perfis">
            {{perfil.nome}}
        </li>
    </ul>
    <p>&nbsp;</p>
    <div class="form-group col-md-4">
        <label for="id">Id</label>
        <input id="id" class="form-control" [(ngModel)]="usuarioObject._id" type="text"/>
    </div>
    <div class="form-group col-md-4">
        <label>Nome</label>
        <input title="Nome" class="form-control" [(ngModel)]="usuarioObject.nome" type="text"/>
    </div>
    <div class="form-group col-md-4">
        <label>Idade</label>
        <input class="form-control" [(ngModel)]="usuarioObject.idade"   />
    </div>

    <div *ngIf="!edit" class="form-group col-md-3">
        <button class="btn btn-primary" (click)="salvar(usuarioObject)">Salvar</button>
    </div>
    <div *ngIf="edit" class="form-group col-md-3">
        <button class="btn btn-primary" (click)="editar(usuarioObject, true)">Editar</button>
    </div>
    <table class="table table-hover table-striped">
       <tr>
          <th>
              Id
          </th>
          <th>
              Nome
          </th>
          <th>
              Idade
          </th>
          <th>
              Perfil
          </th>
          <th>

          </th>
          <th>

          </th>
       </tr>
       <tr *ngFor="let usuario of usuarios; let i = index">
          <td>
              {{usuario._id}}
          </td>
          <td>
              {{usuario.nome}}
          </td>
          <td>
              {{usuario.idade}}
          </td>
           <td>
               {{usuario.perfil.nome}}
           </td>
          <td>
              <button class="btn btn-primary" (click)="editar(usuario)">Editar</button>
          </td>
          <td>
              <button class="btn btn-danger" (click)="excluir(usuario._id)">Deletar</button>
          </td>
       </tr>
    </table>